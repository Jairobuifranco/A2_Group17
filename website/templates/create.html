<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Local Concerts â€” Create Event</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>
  <link rel="stylesheet" href="{{ url_for('static', filename='style/styles.css') }}"/>
</head>
<body>
  <!--Navbar-->
  <nav class="navbar navbar-expand-lg bg-white border-bottom">
    <div class="container">
      <a class="navbar-brand fw-bold" href="{{ url_for('main.index') }}"><i class="bi bi-music-note-beamed me-1"></i>Local<span>Concerts</span></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain"><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse" id="navMain">
        <ul class="navbar-nav me-auto">
          <li class="nav-item"><a class="nav-link" href="{{ url_for('main.index') }}">Home</a></li>
          <li class="nav-item"><a class="nav-link active" href="{{ url_for('events.create_event') }}" aria-current="page">Create Event</a></li>
          <li class="nav-item"><a class="nav-link" href="{{ url_for('main.index') }}">Bookings</a></li>
        </ul>
        <!-- Logged-in indicator -->
        <span class="badge text-bg-success">Logged in</span>
      </div>
    </div>
  </nav>
  <!--Create Event form-->
  <main class="container py-4">
    <h3 class="mb-3">Create / Update Event</h3>
    
    <form class="needs-validation" novalidate action="{{ url_for('events.create_event') }}" method="post">
      {{ form.hidden_tag() }}

      <!-- Event name -->
      <div class="row g-3">
        <div class="col-12 col-md-6">
          <label class="form-label">Event Name</label>
          {{ form.name(class="form-control") }}
          {% if form.name.errors %}
          <div class="invalid-feedback">
            {% for error in form.name.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>
<!-- Venue -->
        <div class="col-12 col-md-6">
          <label class="form-label">Venue</label>
          {{ form.venue(class="form-control") }}
          {% if form.venue.errors %}
          <div class="invalid-feedback">
            {% for error in form.venue.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <div class="col-12">
          <label class="form-label">Description</label>
          {{ form.description(class="form-control", rows="3") }}
          {% if form.description.errors %}
          <div class="invalid-feedback">
            {% for error in form.description.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <div class="col-6 col-md-3">
          <label class="form-label">Date</label>
          {{ form.date(class="form-control") }}
          {% if form.date.errors %}
          <div class="invalid-feedback">
            {% for error in form.date.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>
        
        <div class="col-6 col-md-3">
          <label class="form-label">Start Time</label>
           {{ form.start_time(class="form-control") }}
          {% if form.start_time.errors %}
          <div class="invalid-feedback">
            {% for error in form.start_time.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <div class="col-6 col-md-3">
          <label class="form-label">End Time</label>
          {{ form.end_time(class="form-control") }}
          {% if form.end_time.errors %}
          <div class="invalid-feedback">
            {% for error in form.end_time.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <div class="col-6 col-md-3">
          <label class="form-label">Price (AUD)</label>
         {{ form.price(class="form-control",  min="0", step="0.01" ) }}
          {% if form.price.errors %}
          <div class="invalid-feedback">
            {% for error in form.price.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>

         <!-- Add ticket quantity -->
          <div class="col-6 col-md-3">
          <label class="form-label">Ticket Quantity</label>
         {{ form.quantity(class="form-control",  min="1", max="5000") }}
          {% if form.quantity.errors %}
          <div class="invalid-feedback">
            {% for error in form.quantity.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <!-- Add capacity -->
          <div class="col-6 col-md-3">
          <label class="form-label">capacity</label>
         {{ form.capacity(class="form-control",  min="1", max="10000") }}
          {% if form.capacity.errors %}
          <div class="invalid-feedback">
            {% for error in form.capacity.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>
         
        <div class="col-12 col-md-6">
          <label class="form-label">Category</label>
          {{ form.category(class="form-select") }}
        </div>
        
        <div class="col-12 col-md-6">
          <label class="form-label">Image URL</label>
           {{ form.image_url(class="form-control", placeholder="https://example.com/image.jpg or /static/img/neon.jpg") }}
           {% if form.image_url.errors %}
          <div class="invalid-feedback">
            {% for error in form.image_url.errors %}
            {{ error }}
            {% endfor %}
          </div>
          {% endif %}
        </div>
      </div>

      <div class="d-flex gap-2 mt-4">
        {{ form.submit(class="btn btn-primary") }}
        <a class="btn btn-outline-secondary" href="{{ url_for('main.index') }}">Cancel</a>
      </div>
    </form>
  </main>
  <!--Footer-->
  <footer class="py-4 bg-white border-top">
    <div class="container d-flex justify-content-between align-items-center">
      <span class="text-muted small">&copy; <span>2025</span> LocalConcerts</span>
      <a class="small text-decoration-none" href="#">Terms & Privacy</a>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
